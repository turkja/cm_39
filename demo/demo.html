<html>

<h1>SuperCollider, Common Music & Emacs</h1>

Some sine waves controlled by CM/Grace running as inferior Scheme process under Emacs. This is just simple
hack I made to CM:
<p>
<ul>
  <li>Added a new thread polling standard input</li>
  <li>Input parsed for S-expressions</li>
  <li>Full expressions sent to CM for evaluation</li>
  <li>Emacs scheme-mode does all the hard work magically!</li>
</ul>

<p>
<button id="my-control">Play video</button> (firefox/chrome)
<p>
<video id="my-video" width="900" src="gongs.webm"></video>
<audio id="my-audio" src="gongs_full.wav"></audio>


<script>
  window.onload = function() {
 
  var myAudio = document.getElementById('my-audio');
  var myVideo = document.getElementById('my-video');
  var myControl = document.getElementById('my-control');
 
  function switchState() {
  if (myAudio.paused == true) {
      myVideo.play();
      myAudio.play();
      myControl.innerHTML = "pause";
  } else {
      myVideo.pause();
      myAudio.pause();
      myControl.innerHTML = "play";
    }
  }
 
  function checkKey(e) {
    if (e.keycode == 32 ) { //spacebar
      switchState();
    }
  }
 
  myControl.addEventListener('click', function() {
    switchState();
  }, false);
 
  window.addEventListener( "keypress", checkKey, false );
}

</script>

<p><p>
(Sorry about the audio/video synchronization... Still trying to grasp all this HTML5 media features..)

</html>
